{"ast":null,"code":"var _jsxFileName = \"/Users/diogosilva/Desktop/complete-react-developer-in-2020/crwn-clothing/src/App.js\";\nimport React, { Component, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport './App.css'; // Pages\n\nimport Home from './pages/home/home.component';\nimport Shop from './pages/shop/shop.component';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Checkout from './pages/checkout/checkout.component'; // Components\n\nimport Header from './components/header/header.component';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport { checkUserSession } from './redux/user/user.actions'; // Used to add data to firebase\n// import { selectCollectionsForPreview } from './redux/shop/shop.selector';\n\nconst App = ({\n  currentUser,\n  checkUserSession\n}) => {\n  // unsubscribeFromAuth = null;\n  useEffect(() => {\n    // this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n    //   if (userAuth) {\n    //     const userRef = await createUserProfileDocument(userAuth);\n    //     userRef.onSnapshot(snapshot => {\n    //       setCurrentUser({\n    //           id: snapshot.id,\n    //           // displayName, email, createdAt\n    //           ...snapshot.data()\n    //       });\n    //     });\n    //   } else {\n    //     setCurrentUser(userAuth);\n    //   }\n    // Just to add data to firebase\n    // addCollectionAndDocuments(\n    //   'collections',\n    //   collectionsArray.map(\n    //     ({ title, items }) => ({ title, items })\n    //   )\n    // );\n    // });\n    checkUserSession();\n  }); // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: Shop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: Checkout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: selectCurrentUser(state) // Just to add the data to firebase\n    // collectionsArray: selectCollectionsForPreview(state)\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkUserSession: () => dispatch(checkUserSession())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/diogosilva/Desktop/complete-react-developer-in-2020/crwn-clothing/src/App.js"],"names":["React","Component","useEffect","connect","Redirect","Route","Switch","Home","Shop","SignInAndSignUp","Checkout","Header","selectCurrentUser","checkUserSession","App","currentUser","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,MAA1B,QAAwC,kBAAxC;AAEA,OAAO,WAAP,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,eAAP,MAA4B,2DAA5B;AACA,OAAOC,QAAP,MAAqB,qCAArB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AAEA,SAASC,iBAAT,QAAkC,6BAAlC;AACA,SAASC,gBAAT,QAAiC,2BAAjC,C,CAEA;AACA;;AAEA,MAAMC,GAAG,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeF,EAAAA;AAAf,CAAD,KAAuC;AACjD;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AAEAW,IAAAA,gBAAgB;AACjB,GAzBQ,CAAT,CAHiD,CA8BjD;AACA;AACA;;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEN,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAEC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,WAAlB;AAA8B,IAAA,SAAS,EAAEE,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,MAAM,EAAE,MAAMK,WAAW,gBACvB,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB,gBAEvB,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFF,CADF;AAkBD,CApDD;;AAuDA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLF,IAAAA,WAAW,EAAEH,iBAAiB,CAACK,KAAD,CADzB,CAEL;AACA;;AAHK,GAAP;AAKD,CAND;;AAQA,MAAMC,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLN,IAAAA,gBAAgB,EAAE,MAAMM,QAAQ,CAACN,gBAAgB,EAAjB;AAD3B,GAAP;AAGD,CAJD;;AAMA,eAAeV,OAAO,CAACa,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CJ,GAA7C,CAAf","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport './App.css';\n\n// Pages\nimport Home from './pages/home/home.component';\nimport Shop from './pages/shop/shop.component';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Checkout from './pages/checkout/checkout.component';\n\n// Components\nimport Header from './components/header/header.component';\n\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport { checkUserSession } from './redux/user/user.actions';\n\n// Used to add data to firebase\n// import { selectCollectionsForPreview } from './redux/shop/shop.selector';\n\nconst App = ({ currentUser, checkUserSession }) => {\n  // unsubscribeFromAuth = null;\n\n  useEffect(() => {\n    // this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n    //   if (userAuth) {\n    //     const userRef = await createUserProfileDocument(userAuth);\n    //     userRef.onSnapshot(snapshot => {\n    //       setCurrentUser({\n    //           id: snapshot.id,\n    //           // displayName, email, createdAt\n    //           ...snapshot.data()\n    //       });\n    //     });\n    //   } else {\n    //     setCurrentUser(userAuth);\n    //   }\n\n      // Just to add data to firebase\n      // addCollectionAndDocuments(\n      //   'collections',\n      //   collectionsArray.map(\n      //     ({ title, items }) => ({ title, items })\n      //   )\n      // );\n    // });\n\n    checkUserSession();\n  });\n\n  // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path='/shop' component={Shop} />\n        <Route exact path='/checkout' component={Checkout} />\n        <Route\n          exact\n          path='/signin'\n          render={() => currentUser ?\n            <Redirect to='/' /> :\n            <SignInAndSignUp />\n          }\n        />\n      </Switch>\n    </div>\n  );\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: selectCurrentUser(state)\n    // Just to add the data to firebase\n    // collectionsArray: selectCollectionsForPreview(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkUserSession: () => dispatch(checkUserSession())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);"]},"metadata":{},"sourceType":"module"}